-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Дек 07 2024 г., 02:06
-- Версия сервера: 8.0.30
-- Версия PHP: 7.2.34

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `db`
--

-- --------------------------------------------------------

--
-- Структура таблицы `BandMember`
--

CREATE TABLE `BandMember` (
  `NumberOfGroup` int DEFAULT NULL,
  `ClientId` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `BandMember`
--

INSERT INTO `BandMember` (`NumberOfGroup`, `ClientId`) VALUES
(1, 1),
(1, 2),
(1, 3),
(1, 4),
(1, 5),
(2, 6),
(2, 7),
(2, 8),
(2, 9),
(2, 10),
(3, 11),
(3, 12),
(3, 13),
(3, 14),
(3, 15),
(4, 16),
(4, 17),
(4, 18),
(4, 19),
(4, 20),
(5, 21),
(5, 22),
(5, 23),
(5, 24),
(5, 25),
(6, 26),
(6, 27),
(6, 28),
(6, 29),
(6, 30),
(7, 31),
(7, 32),
(7, 33),
(7, 34),
(7, 35),
(8, 36),
(8, 37),
(8, 38),
(8, 39),
(8, 40),
(9, 41),
(9, 42),
(9, 43),
(9, 44),
(9, 45),
(10, 46),
(10, 47),
(10, 48),
(10, 49),
(10, 50),
(11, 51),
(11, 52),
(11, 53),
(11, 54),
(11, 55),
(12, 56),
(12, 57),
(12, 58),
(12, 59),
(12, 60),
(13, 61),
(13, 62),
(13, 63),
(13, 64),
(13, 65),
(14, 66),
(14, 67),
(14, 68),
(14, 69),
(14, 70),
(15, 71),
(15, 72),
(15, 73),
(15, 74),
(15, 75),
(16, 76),
(16, 77),
(16, 78),
(16, 79),
(16, 80),
(17, 81),
(17, 82),
(17, 83),
(17, 84),
(17, 85),
(18, 86),
(18, 87),
(18, 88),
(18, 89),
(18, 90),
(19, 91),
(19, 92),
(19, 93),
(19, 94),
(19, 95),
(20, 96),
(20, 97),
(20, 98),
(20, 99),
(20, 100);

-- --------------------------------------------------------

--
-- Структура таблицы `Choreographer`
--

CREATE TABLE `Choreographer` (
  `IdChoreographer` int NOT NULL,
  `Fio` varchar(30) DEFAULT NULL,
  `birthday` varchar(10) DEFAULT NULL,
  `Gender` varchar(1) DEFAULT NULL,
  `Phone` varchar(32) DEFAULT NULL,
  `Experience` tinyint DEFAULT NULL,
  `DanceStyle` varchar(12) DEFAULT NULL,
  `password` varchar(32) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Choreographer`
--

INSERT INTO `Choreographer` (`IdChoreographer`, `Fio`, `birthday`, `Gender`, `Phone`, `Experience`, `DanceStyle`, `password`) VALUES
(1, 'Иванова Анна Петровна', '1985-07-15', 'W', '9161234', 10, 'Contemporary', 'password'),
(2, 'Петров Сергей Николаевич', '1978-04-22', 'M', '9255551', 15, 'Ballet', 'password'),
(3, 'Сидорова Мария Владимировна', '1990-11-08', 'W', '9037893', 5, 'Hip Hop', 'password'),
(4, 'Козлов Алексей Иванович', '1982-03-01', 'M', '9112223', 12, 'Jazz', 'password'),
(5, 'Васильева Екатерина Андреевна', '1988-09-27', 'W', '9501112', 8, 'Modern', 'password'),
(6, 'Смирнов Дмитрий Александрович', '1980-05-10', 'M', '9123459', 18, 'Ballroom', 'password'),
(7, 'Кузнецова Ольга Сергеевна', '1992-02-18', 'W', '9001122', 7, 'Latin Dance', 'password'),
(8, 'Романов Александр Владимирович', '1975-12-25', 'M', '9555505', 20, 'Contemporary', 'password'),
(9, 'Соколова Ирина Николаевна', '1987-08-03', 'W', '9101234', 9, 'Modern', 'password'),
(10, 'Новиков Андрей Сергеевич', '1989-06-15', 'M', '9222222', 6, 'Hip Hop', 'password'),
(11, 'Борисова Елена Ивановна', '1983-11-28', 'W', '9012345', 11, 'Belly Dance', 'password'),
(12, 'Захаров Павел Алексеевич', '1986-04-07', 'M', '9333333', 10, 'Hip Hop', 'password'),
(13, 'Морозова Татьяна Владимировна', '1991-09-21', 'W', '9444444', 4, 'Contemporary', 'password'),
(14, 'Федорова Наталья Дмитриевна', '1984-07-12', 'W', '9555555', 13, 'K-Pop', 'password'),
(15, 'Михайлов Сергей Петрович', '1979-03-29', 'M', '9666666', 17, 'Salsa', 'password'),
(16, 'Петрова Светлана Викторовна', '1982-10-18', 'W', '9777777', 12, 'Modern', 'password'),
(17, 'Иванов Алексей Николаевич', '1988-01-05', 'M', '9888888', 8, 'Tango', 'password'),
(18, 'Синицына Анна Сергеевна', '1990-05-22', 'W', '9999999', 5, 'Modern', 'password'),
(19, 'Ковалев Дмитрий Александрович', '1984-08-17', 'M', '9100000', 14, 'Ballet', 'password'),
(20, 'Кузнецова Екатерина Ивановна', '1987-12-03', 'W', '9200001', 11, 'Ballet', 'password'),
(21, 'test', NULL, NULL, '1', NULL, NULL, 'test'),
(22, 'admin', 'admin', 'a', 'admin', 1, 'admin', 'admin'),
(23, 'Рогов Андрей Дмитриевич', '2005-09-10', 'M', '9292132', 3, 'Ballet', 'password');

-- --------------------------------------------------------

--
-- Структура таблицы `Client`
--

CREATE TABLE `Client` (
  `ClientId` int NOT NULL,
  `FIO` varchar(31) DEFAULT NULL,
  `birtday` varchar(10) DEFAULT NULL,
  `Gender` varchar(1) DEFAULT NULL,
  `Phone` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Client`
--

INSERT INTO `Client` (`ClientId`, `FIO`, `birtday`, `Gender`, `Phone`) VALUES
(1, 'Петров Иван Сергеевич', '1990-01-15', 'M', 9161234),
(2, 'Сидорова Мария Алексеевна', '1992-05-22', 'W', 9255534),
(3, 'Смирнов Алексей Дмитриевич', '1988-11-08', 'M', 9093456),
(4, 'Кузнецова Анна Павловна', '1991-03-01', 'W', 9112256),
(5, 'Соколов Сергей Николаевич', '1989-09-27', 'M', 9502345),
(6, 'Попова Ольга Александровна', '1993-05-10', 'W', 9129789),
(7, 'Васильев Дмитрий Сергеевич', '1992-02-18', 'M', 9001345),
(8, 'Зайцева Екатерина Петровна', '1995-12-25', 'W', 9555123),
(9, 'Богданов Андрей Сергеевич', '1987-08-03', 'M', 9101267),
(10, 'Козлова Ирина Владимировна', '1994-06-15', 'W', 9222345),
(11, 'Морозов Павел Николаевич', '1993-11-28', 'M', 9012378),
(12, 'Федорова Татьяна Александровна', '1996-04-07', 'W', 9333356),
(13, 'Михайлов Александр Петрович', '1991-09-21', 'M', 9444567),
(14, 'Новикова Наталья Дмитриевна', '1984-07-12', 'W', 9555678),
(15, 'Волков Елена Сергеевна', '1990-03-29', 'W', 9666789),
(16, 'Дмитриев Алексей Николаевич', '1992-10-18', 'M', 9777890),
(17, 'Королев Светлана Александровна', '1988-01-05', 'W', 9888901),
(18, 'Алексеев Сергей Петрович', '1990-05-22', 'M', 9999012),
(19, 'Сергеев Ольга Николаевна', '1984-08-17', 'W', 9100123),
(20, 'Кузьмина Анна Андреевна', '1987-12-03', 'W', 9201234),
(21, 'Петров Иван Сергеевич', '1979-01-15', 'M', 9161277),
(22, 'Сидорова Кристина Алексеевна', '1980-05-22', 'W', 9251244),
(23, 'Смирнов Илья Дмитриевич', '1981-11-08', 'M', 9037896),
(24, 'Кузнецова Екатерина Павловна', '1982-03-01', 'W', 9112466),
(25, 'Соколов Роман Николаевич', '1983-09-27', 'M', 9512355),
(26, 'Попова Екатерина Александровна', '1984-05-10', 'W', 9129799),
(27, 'Васильев Ренат Сергеевич', '1985-02-18', 'M', 9002355),
(28, 'Зайцева Евгения Петровна', '1986-12-25', 'W', 9505133),
(29, 'Богданов Никита Сергеевич', '1987-08-03', 'M', 9101277),
(30, 'Козлова Мария Владимировна', '1988-06-15', 'W', 9222225),
(31, 'Морозов Егор Николаевич', '1989-11-28', 'M', 9012345),
(32, 'Федорова Светлана Александровна', '1990-04-07', 'W', 9333366),
(33, 'Михайлов Вячеслав Петрович', '1991-09-21', 'M', 9444477),
(34, 'Новикова Дарья Дмитриевна', '1992-07-12', 'W', 9555688),
(35, 'Волков Виктор Сергеевич', '1993-03-29', 'M', 9666699),
(36, 'Дмитриев Егор Николаевич', '1994-10-18', 'M', 9777899),
(37, 'Королев Семён Александровна', '1995-01-05', 'W', 9888911),
(38, 'Алексеев Вадим Петрович', '1996-05-22', 'M', 9999022),
(39, 'Сергеев Кирилл Николаевич', '1997-08-17', 'M', 9100133),
(40, 'Кузьмина Елена Андреевна', '1998-12-03', 'W', 9200244),
(41, 'Петров Виталий Сергеевич', '1978-01-15', 'M', 9161587),
(42, 'Сидорова Карина Алексеевна', '1979-05-22', 'W', 9251254),
(43, 'Смирнов Данил Дмитриевич', '1980-11-08', 'M', 9037876),
(44, 'Кузнецова Полина Павловна', '1981-03-01', 'W', 9112476),
(45, 'Бауэр Артём Николаевич', '1982-09-27', 'M', 9501165),
(46, 'Попова Вероника Александровна', '1983-05-10', 'W', 9123459),
(47, 'Васильев Денис Сергеевич', '1984-02-18', 'M', 9001125),
(48, 'Белова Виктория Петровна', '1985-12-25', 'W', 9555543),
(49, 'Богданов Пётр Сергеевич', '1986-08-03', 'M', 9101237),
(50, 'Козлинская Любовь Владимировна', '1987-06-15', 'W', 9222365),
(51, 'Морозов Фёдор Николаевич', '1988-11-28', 'M', 9012398),
(52, 'Федорова Зинаида Александровна', '1989-04-07', 'W', 9333376),
(53, 'Михайлов Даниил Петрович', '1990-09-21', 'M', 9444444),
(54, 'Новикова Людмила Дмитриевна', '1991-07-12', 'W', 9555555),
(55, 'Волков Иван Сергеевич', '1992-03-29', 'M', 9666666),
(56, 'Дмитриев Дмитрий Николаевич', '1993-10-18', 'M', 9777779),
(57, 'Королев Геннадий Александровна', '1994-01-05', 'W', 9888821),
(58, 'Алексеев Вадим Петрович', '1995-05-22', 'M', 9999932),
(59, 'Сергеев Николай Николаевич', '1996-08-17', 'M', 9100143),
(60, 'Кузьмина Дания Андреевна', '1997-12-03', 'W', 9200054),
(61, 'Петров Валентин Сергеевич', '1977-01-15', 'M', 9161237),
(62, 'Пинтаева Вероника Алексеевна', '1978-05-22', 'W', 9255564),
(63, 'Смирнов Егор Дмитриевич', '1979-11-08', 'M', 9037896),
(64, 'Кузнецова Ангелина Павловна', '1980-03-01', 'W', 9112286),
(65, 'Соколов Олег Николаевич', '1981-09-27', 'M', 9501115),
(66, 'Попова Диана Александровна', '1982-05-10', 'W', 9123419),
(67, 'Удимцев Кирилл Сергеевич', '1983-02-18', 'M', 9001122),
(68, 'Зайцева София Петровна', '1984-12-25', 'W', 9555505),
(69, 'Богданов Лев Сергеевич', '1985-08-03', 'M', 9101234),
(70, 'Сафина Ева Владимировна', '1986-06-15', 'W', 9222222),
(71, 'Ветская Виктория Николаевич', '1987-11-28', 'M', 9012308),
(72, 'Ильменская Софья Александровна', '1988-04-07', 'W', 9333486),
(73, 'Михайлов Денис Петрович', '1989-09-21', 'M', 9444597),
(74, 'Новикова Ольга Дмитриевна', '1990-07-12', 'W', 9555708),
(75, 'Волков Ренат Сергеевич', '1991-03-29', 'M', 9666819),
(76, 'Дмитриев Виталий Николаевич', '1992-10-18', 'M', 9777899),
(77, 'Королев Кристиан Александровна', '1993-01-05', 'W', 9888931),
(78, 'Алексеев Семён Петрович', '1994-05-22', 'M', 9999042),
(79, 'Сергеев Энвер Николаевич', '1995-08-17', 'M', 9100153),
(80, 'Кирилловна Елена Андреевна', '1996-12-03', 'W', 9200001),
(81, 'Петров Шамиль Сергеевич', '1976-01-15', 'M', 9161234),
(82, 'Шелест Ульяна Алексеевна', '1977-05-22', 'W', 9255274),
(83, 'Смирнов Георгий Дмитриевич', '1978-11-08', 'M', 9037496),
(84, 'Кузовина Полина Павловна', '1979-03-01', 'W', 9123496),
(85, 'Сконив Виктор Николаевич', '1980-09-27', 'M', 9501185),
(86, 'Притова Светлана Александровна', '1981-05-10', 'W', 9123459),
(87, 'Вернов Егор Сергеевич', '1982-02-18', 'M', 9001385),
(88, 'Заинкова Ирина Петровна', '1983-12-25', 'W', 9555163),
(89, 'Мишкин Николай Сергеевич', '1984-08-03', 'M', 9101234),
(90, 'Каншина Елена Владимировна', '1985-06-15', 'W', 9222285),
(91, 'Оринко Артём Николаевич', '1986-11-28', 'M', 9012318),
(92, 'Таварина Николь Александровна', '1987-04-07', 'W', 9333496),
(93, 'Эмин Лев Петрович', '1988-09-21', 'M', 9444607),
(94, 'Зорина Арина Дмитриевна', '1989-07-12', 'W', 9555718),
(95, 'Великин Мишель Сергеевич', '1990-03-29', 'M', 9666829),
(96, 'Леванин Мирослав Николаевич', '1991-10-18', 'M', 9777909),
(97, 'Хорькова Виталина Александровна', '1992-01-05', 'W', 9888941),
(98, 'Жарков Илья Петрович', '1993-05-22', 'M', 9999952),
(99, 'Сергеев Александр Николаевич', '1994-08-17', 'M', 9100163),
(100, 'Никитьева Карина Андреевна', '1995-12-03', 'W', 9200074),
(101, 'Петров Иван Сергеевич', '1990-01-15', 'M', 9161234),
(102, 'Рогов Андрей Дмитриевич', '2005-09-10', 'M', 9999999),
(103, 'Сафина Виктория Максимовна', '2004-07-13', 'F', 9191116),
(104, 'Имерсаинов Александр Сергеевич', '2004-06-26', 'M', 1234124),
(105, 'Деркач Дарья Сергеевна', '2005-09-10', 'F', 1232122);

--
-- Триггеры `Client`
--
DELIMITER $$
CREATE TRIGGER `trg` AFTER INSERT ON `Client` FOR EACH ROW insert into Subscription(Id_Sub, ClientId, NumberOfLessonsLeft, TotalNumberOfLessons, StartDate, EndDate, Status) VALUES (NEW.ClientId, NEW.ClientId, 0, FLOOR(1 + RAND() * 20), NOW(), DATE_ADD(NOW(), INTERVAL 1 MONTH), "Active")
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Структура таблицы `ClientRecord`
--

CREATE TABLE `ClientRecord` (
  `NumberOfClass` int DEFAULT NULL,
  `ClientId` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `ClientRecord`
--

INSERT INTO `ClientRecord` (`NumberOfClass`, `ClientId`) VALUES
(1, 1),
(1, 2),
(1, 3),
(2, 4),
(2, 5),
(2, 6),
(3, 7),
(3, 8),
(3, 9),
(4, 10),
(4, 11),
(4, 12),
(5, 13),
(5, 14),
(5, 15),
(6, 16),
(6, 17),
(6, 18),
(7, 19),
(7, 20),
(7, 21),
(8, 22),
(8, 23),
(8, 24),
(9, 25),
(9, 26),
(9, 27),
(10, 28),
(10, 29),
(10, 30),
(11, 31),
(11, 32),
(11, 33),
(12, 34),
(12, 35),
(12, 36),
(13, 37),
(13, 38),
(13, 39),
(14, 40),
(14, 41),
(14, 42),
(15, 43),
(15, 44),
(15, 45),
(16, 46),
(16, 47),
(16, 48),
(17, 49),
(17, 50),
(50, 16);

-- --------------------------------------------------------

--
-- Дублирующая структура для представления `cl_rec`
-- (См. Ниже фактическое представление)
--
CREATE TABLE `cl_rec` (
`FIO` varchar(31)
,`NumberOfClass` int
);

-- --------------------------------------------------------

--
-- Структура таблицы `Grouppa`
--

CREATE TABLE `Grouppa` (
  `NumberOfGroup` int NOT NULL,
  `IdChoreographer` int DEFAULT NULL,
  `DanceStyle` varchar(12) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Grouppa`
--

INSERT INTO `Grouppa` (`NumberOfGroup`, `IdChoreographer`, `DanceStyle`) VALUES
(1, 1, 'Contemporary'),
(2, 2, 'Ballet'),
(3, 3, 'Hip Hop'),
(4, 4, 'Jazz'),
(5, 5, 'Modern'),
(6, 6, 'Ballroom'),
(7, 7, 'Latin Dance'),
(8, 8, 'Contemporary'),
(9, 9, 'Modern'),
(10, 10, 'Hip Hop'),
(11, 11, 'Belly Dance'),
(12, 12, 'Hip Hop'),
(13, 13, 'Contemporary'),
(14, 14, 'K-Pop'),
(15, 15, 'Salsa'),
(16, 16, 'Modern'),
(17, 17, 'Tango'),
(18, 18, 'Modern'),
(19, 19, 'Ballet'),
(20, 20, 'Ballet'),
(21, 17, 'Ballet'),
(22, 1, 'Contemporary');

--
-- Триггеры `Grouppa`
--
DELIMITER $$
CREATE TRIGGER `after_group_insert` AFTER INSERT ON `Grouppa` FOR EACH ROW BEGIN
    DECLARE last_date DATE;
    DECLARE last_time TIME;
    DECLARE next_date DATE;
    DECLARE next_time TIME;

    -- Получение последней даты и времени из таблицы Schedule
    SELECT MAX(DateOfClass), MAX(TimeOfClass)
    INTO last_date, last_time
    FROM Schedule
    WHERE NumberOfGroup = NEW.NumberOfGroup;

    -- Если записи для этой группы еще нет, установить начальное значение
    IF last_date IS NULL THEN
        SET next_date = CURDATE(); -- Текущая дата
        SET next_time = '09:00:00'; -- Время начала
    ELSE
        -- Расчет следующего времени
        IF last_time + INTERVAL 1 HOUR <= '18:00:00' THEN
            SET next_date = last_date;
            SET next_time = last_time + INTERVAL 1 HOUR;
        ELSE
            -- Если время выходит за пределы 18:00, переход на следующий день в 9:00
            SET next_date = last_date + INTERVAL 1 DAY;
            SET next_time = '09:00:00';
        END IF;
    END IF;

    -- Вставка новой записи в Schedule
    INSERT INTO Schedule (NumberOfGroup, DateOfClass, TimeOfClass)
    VALUES (NEW.NumberOfGroup, next_date, next_time);
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Дублирующая структура для представления `group_fio`
-- (См. Ниже фактическое представление)
--
CREATE TABLE `group_fio` (
`DanceStyle` varchar(12)
,`FIO` varchar(31)
);

-- --------------------------------------------------------

--
-- Структура таблицы `Item`
--

CREATE TABLE `Item` (
  `Product_ID` int NOT NULL,
  `Price` tinyint DEFAULT NULL,
  `ProductAvailability` varchar(3) DEFAULT NULL,
  `NumberOfRemaining` tinyint DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Item`
--

INSERT INTO `Item` (`Product_ID`, `Price`, `ProductAvailability`, `NumberOfRemaining`) VALUES
(4, 30, 'Yes', 7),
(5, 18, 'Yes', 20),
(6, 45, 'No', 1),
(7, 12, 'Yes', 15),
(8, 22, 'Yes', 3),
(9, 50, 'Yes', 1),
(10, 16, 'Yes', 7),
(11, 28, 'No', 2),
(12, 14, 'Yes', 12),
(13, 35, 'Yes', 6),
(14, 20, 'Yes', 18),
(15, 40, 'Yes', 4),
(16, 19, 'Yes', 11),
(17, 26, 'Yes', 9),
(18, 32, 'No', 3),
(19, 17, 'Yes', 16),
(20, 24, 'Yes', 2),
(21, 42, 'Yes', 5),
(22, 13, 'Yes', 14),
(23, 29, 'No', 4),
(24, 11, 'Yes', 19),
(25, 38, 'Yes', 10),
(26, 21, 'Yes', 13),
(27, 36, 'Yes', 8),
(28, 15, 'Yes', 17),
(29, 23, 'Yes', 1),
(30, 44, 'Yes', 6),
(31, 18, 'Yes', 15),
(32, 27, 'Yes', 4),
(33, 34, 'No', 5),
(34, 16, 'Yes', 11),
(35, 25, 'Yes', 9),
(36, 31, 'Yes', 3),
(37, 14, 'Yes', 16),
(38, 22, 'Yes', 7),
(39, 39, 'Yes', 5),
(40, 17, 'Yes', 12),
(41, 26, 'Yes', 10),
(42, 33, 'No', 6),
(43, 15, 'Yes', 14),
(44, 24, 'Yes', 6),
(45, 30, 'Yes', 9),
(46, 16, 'Yes', 13),
(47, 25, 'Yes', 8),
(48, 32, 'Yes', 4),
(49, 14, 'Yes', 11),
(50, 23, 'Yes', 10),
(51, 14, 'Yes', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `sale`
--

CREATE TABLE `sale` (
  `NumberOfDeal` int NOT NULL,
  `Id_product` int DEFAULT NULL,
  `ClientId` int DEFAULT NULL,
  `SaledCount` tinyint DEFAULT NULL,
  `DateOfDeal` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `sale`
--

INSERT INTO `sale` (`NumberOfDeal`, `Id_product`, `ClientId`, `SaledCount`, `DateOfDeal`) VALUES
(1, 4, 1, 10, '2023-10-26'),
(2, 5, 2, 5, '2023-10-25'),
(3, 6, 3, 15, '2023-10-24'),
(4, 7, 4, 8, '2023-10-23'),
(5, 8, 5, 12, '2023-10-22'),
(6, 9, 6, 7, '2023-10-21'),
(7, 10, 7, 11, '2023-10-20'),
(8, 11, 8, 9, '2023-10-19'),
(9, 12, 9, 13, '2023-10-18'),
(10, 13, 10, 6, '2023-10-17'),
(11, 14, 11, 10, '2023-10-16'),
(12, 15, 12, 8, '2023-10-15'),
(13, 16, 13, 12, '2023-10-14'),
(14, 17, 14, 11, '2023-10-13'),
(15, 18, 15, 9, '2023-10-12'),
(16, 19, 16, 7, '2023-10-11'),
(17, 20, 17, 13, '2023-10-10'),
(18, 21, 18, 10, '2023-10-09'),
(19, 22, 19, 8, '2023-10-08'),
(20, 23, 20, 12, '2023-10-07'),
(21, 24, 21, 11, '2023-10-06'),
(22, 25, 22, 9, '2023-10-05'),
(23, 26, 23, 10, '2023-10-04'),
(24, 27, 24, 14, '2023-10-03'),
(25, 28, 25, 13, '2023-10-02'),
(26, 29, 26, 12, '2023-10-01'),
(27, 30, 27, 10, '2023-09-30'),
(28, 31, 28, 9, '2023-09-29'),
(29, 32, 29, 11, '2023-09-28'),
(30, 33, 30, 13, '2023-09-27'),
(31, 34, 31, 12, '2023-09-26'),
(32, 35, 32, 10, '2023-09-25'),
(33, 36, 33, 14, '2023-09-24'),
(34, 37, 34, 11, '2023-09-23'),
(35, 38, 35, 13, '2023-09-22'),
(36, 39, 36, 12, '2023-09-21'),
(37, 40, 37, 10, '2023-09-20'),
(38, 41, 38, 14, '2023-09-19'),
(39, 42, 39, 13, '2023-09-18'),
(40, 43, 40, 12, '2023-09-17'),
(41, 44, 41, 11, '2023-09-16'),
(42, 45, 42, 15, '2023-09-15'),
(43, 46, 43, 14, '2023-09-14'),
(44, 47, 44, 13, '2023-09-13'),
(45, 48, 45, 12, '2023-09-12'),
(46, 49, 46, 11, '2023-09-11'),
(47, 50, 47, 10, '2023-09-10'),
(48, 4, 48, 14, '2023-09-09'),
(49, 5, 49, 13, '2023-09-08'),
(50, 6, 50, 12, '2023-09-07'),
(51, 7, 51, 11, '2023-09-06'),
(52, 8, 52, 10, '2023-09-05'),
(53, 9, 53, 14, '2023-09-04'),
(54, 10, 54, 13, '2023-09-03'),
(55, 11, 55, 12, '2023-09-02'),
(56, 12, 56, 11, '2023-09-01'),
(57, 13, 57, 10, '2023-08-31'),
(58, 14, 58, 14, '2023-08-30'),
(59, 15, 59, 13, '2023-08-29'),
(60, 16, 60, 12, '2023-08-28'),
(61, 17, 61, 11, '2023-08-27'),
(62, 18, 62, 10, '2023-08-26'),
(63, 19, 63, 14, '2023-08-25'),
(64, 20, 64, 13, '2023-08-24'),
(65, 21, 65, 12, '2023-08-23'),
(66, 22, 66, 11, '2023-08-22'),
(67, 23, 67, 10, '2023-08-21'),
(68, 24, 68, 14, '2023-08-20'),
(69, 25, 69, 13, '2023-08-19'),
(70, 26, 70, 12, '2023-08-18'),
(71, 27, 71, 11, '2023-08-17'),
(72, 28, 72, 10, '2023-08-16'),
(73, 29, 73, 14, '2023-08-15'),
(74, 30, 74, 13, '2023-08-14'),
(75, 31, 75, 12, '2023-08-13'),
(76, 32, 76, 11, '2023-08-12'),
(77, 33, 77, 10, '2023-08-11'),
(78, 34, 78, 14, '2023-08-10'),
(79, 35, 79, 13, '2023-08-09'),
(80, 36, 80, 12, '2023-08-08'),
(84, 15, 15, 2, '2024-12-07'),
(85, 4, 1, 1, '2024-12-07'),
(86, 4, 1, 1, '2024-12-07');

-- --------------------------------------------------------

--
-- Структура таблицы `Schedule`
--

CREATE TABLE `Schedule` (
  `Id_Schedule` int NOT NULL,
  `NumberOfGroup` int DEFAULT NULL,
  `DateOfClass` varchar(10) DEFAULT NULL,
  `TimeOfClass` varchar(8) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Schedule`
--

INSERT INTO `Schedule` (`Id_Schedule`, `NumberOfGroup`, `DateOfClass`, `TimeOfClass`) VALUES
(1, 1, '2023-10-26', '09:00:00'),
(2, 2, '2023-10-26', '10:00:00'),
(3, 3, '2023-10-26', '11:00:00'),
(4, 4, '2023-10-26', '12:00:00'),
(5, 5, '2023-10-26', '13:00:00'),
(6, 6, '2023-10-26', '14:00:00'),
(7, 7, '2023-10-26', '15:00:00'),
(8, 8, '2023-10-26', '16:00:00'),
(9, 9, '2023-10-26', '17:00:00'),
(10, 10, '2023-10-26', '18:00:00'),
(11, 11, '2023-10-27', '09:00:00'),
(12, 12, '2023-10-27', '10:00:00'),
(13, 13, '2023-10-27', '11:00:00'),
(14, 14, '2023-10-27', '12:00:00'),
(15, 15, '2023-10-27', '13:00:00'),
(16, 16, '2023-10-27', '14:00:00'),
(17, 17, '2023-10-27', '15:00:00'),
(18, 18, '2023-10-27', '16:00:00'),
(19, 19, '2023-10-27', '17:00:00'),
(20, 20, '2023-10-27', '18:00:00'),
(21, 1, '2023-10-28', '09:00:00'),
(22, 2, '2023-10-28', '10:00:00'),
(23, 3, '2023-10-28', '11:00:00'),
(24, 4, '2023-10-28', '12:00:00'),
(25, 5, '2023-10-28', '13:00:00'),
(26, 6, '2023-10-28', '14:00:00'),
(27, 7, '2023-10-28', '15:00:00'),
(28, 8, '2023-10-28', '16:00:00'),
(29, 9, '2023-10-28', '17:00:00'),
(30, 10, '2023-10-28', '18:00:00'),
(31, 11, '2023-10-29', '09:00:00'),
(32, 12, '2023-10-29', '10:00:00'),
(33, 13, '2023-10-29', '11:00:00'),
(34, 14, '2023-10-29', '12:00:00'),
(35, 15, '2023-10-29', '13:00:00'),
(36, 16, '2023-10-29', '14:00:00'),
(37, 17, '2023-10-29', '15:00:00'),
(38, 18, '2023-10-29', '16:00:00'),
(39, 19, '2023-10-29', '17:00:00'),
(40, 20, '2023-10-29', '18:00:00'),
(41, 1, '2023-10-30', '09:00:00'),
(42, 2, '2023-10-30', '10:00:00'),
(43, 3, '2023-10-30', '11:00:00'),
(44, 4, '2023-10-30', '12:00:00'),
(45, 5, '2023-10-30', '13:00:00'),
(46, 6, '2023-10-30', '14:00:00'),
(47, 7, '2023-10-30', '15:00:00'),
(48, 8, '2023-10-30', '16:00:00'),
(49, 9, '2023-10-30', '17:00:00'),
(50, 10, '2023-10-30', '18:00:00'),
(51, 11, '2023-10-31', '09:00:00'),
(52, 12, '2023-10-31', '10:00:00'),
(53, 13, '2023-10-31', '11:00:00'),
(54, 14, '2023-10-31', '12:00:00'),
(55, 15, '2023-10-31', '13:00:00'),
(56, 16, '2023-10-31', '14:00:00'),
(57, 17, '2023-10-31', '15:00:00'),
(58, 18, '2023-10-31', '16:00:00'),
(59, 19, '2023-10-31', '17:00:00'),
(60, 20, '2023-10-31', '18:00:00'),
(61, 1, '2023-11-01', '09:00:00'),
(62, 2, '2023-11-01', '10:00:00'),
(63, 3, '2023-11-01', '11:00:00'),
(64, 4, '2023-11-01', '12:00:00'),
(65, 5, '2023-11-01', '13:00:00'),
(66, 6, '2023-11-01', '14:00:00'),
(67, 7, '2023-11-01', '15:00:00'),
(68, 8, '2023-11-01', '16:00:00'),
(69, 9, '2023-11-01', '17:00:00'),
(70, 10, '2023-11-01', '18:00:00'),
(71, 11, '2023-11-02', '09:00:00'),
(72, 12, '2023-11-02', '10:00:00'),
(73, 13, '2023-11-02', '11:00:00'),
(74, 14, '2023-11-02', '12:00:00'),
(75, 15, '2023-11-02', '13:00:00'),
(76, 16, '2023-11-02', '14:00:00'),
(77, 17, '2023-11-02', '15:00:00'),
(78, 18, '2023-11-02', '16:00:00'),
(79, 19, '2023-11-02', '17:00:00'),
(80, 20, '2023-11-02', '18:00:00'),
(81, 21, '2024-12-06', '09:00:00'),
(82, 22, '2024-12-06', '09:00:00');

-- --------------------------------------------------------

--
-- Структура таблицы `Subscription`
--

CREATE TABLE `Subscription` (
  `Id_Sub` int NOT NULL,
  `ClientId` int DEFAULT NULL,
  `NumberOfLessonsLeft` tinyint DEFAULT NULL,
  `TotalNumberOfLessons` tinyint DEFAULT NULL,
  `StartDate` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `EndDate` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `Status` varchar(6) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Subscription`
--

INSERT INTO `Subscription` (`Id_Sub`, `ClientId`, `NumberOfLessonsLeft`, `TotalNumberOfLessons`, `StartDate`, `EndDate`, `Status`) VALUES
(1, 1, 10, 10, '2024-03-15', '2024-06-15', 'Active'),
(2, 2, 10, 8, '2024-03-16', '2024-06-16', 'Active'),
(3, 3, 10, 7, '2024-03-17', '2024-06-17', 'Active'),
(4, 4, 10, 10, '2024-03-18', '2024-06-18', 'Active'),
(5, 5, 10, 7, '2024-03-19', '2024-06-19', 'Active'),
(6, 6, 10, 8, '2024-03-20', '2024-06-20', 'Active'),
(7, 7, 10, 8, '2024-03-21', '2024-06-21', 'Active'),
(8, 8, 10, 10, '2024-03-22', '2024-06-22', 'Active'),
(9, 9, 10, 10, '2024-03-23', '2024-06-23', 'Active'),
(10, 10, 10, 10, '2024-03-24', '2024-06-24', 'Active'),
(11, 11, 10, 10, '2024-03-25', '2024-06-25', 'Active'),
(12, 12, 10, 8, '2024-03-26', '2024-06-26', 'Active'),
(13, 13, 10, 8, '2024-03-27', '2024-06-27', 'Active'),
(14, 14, 10, 8, '2024-03-28', '2024-06-28', 'Active'),
(15, 15, 10, 8, '2024-03-29', '2024-06-29', 'Active'),
(16, 16, 10, 7, '2024-03-30', '2024-06-30', 'Active'),
(17, 17, 10, 7, '2024-03-31', '2024-07-01', 'Active'),
(18, 18, 10, 7, '2024-04-01', '2024-07-01', 'Active'),
(19, 19, 10, 7, '2024-04-02', '2024-07-02', 'Active'),
(20, 20, 10, 10, '2024-04-03', '2024-07-03', 'Active'),
(21, 21, 10, 8, '2024-04-04', '2024-07-04', 'Active'),
(22, 22, 10, 8, '2024-04-05', '2024-07-05', 'Active'),
(23, 23, 10, 10, '2024-04-06', '2024-07-06', 'Active'),
(24, 24, 10, 10, '2024-04-07', '2024-07-07', 'Active'),
(25, 25, 10, 8, '2024-04-08', '2024-07-08', 'Active'),
(26, 26, 10, 8, '2024-04-09', '2024-07-09', 'Active'),
(27, 27, 10, 10, '2024-04-10', '2024-07-10', 'Active'),
(28, 28, 10, 8, '2024-04-11', '2024-07-11', 'Active'),
(29, 29, 10, 7, '2024-04-12', '2024-07-12', 'Active'),
(30, 30, 10, 10, '2024-04-13', '2024-07-13', 'Active'),
(31, 31, 10, 10, '2024-04-14', '2024-07-14', 'Active'),
(32, 32, 10, 8, '2024-04-15', '2024-07-15', 'Active'),
(33, 33, 10, 7, '2024-04-16', '2024-07-16', 'Active'),
(34, 34, 10, 7, '2024-04-17', '2024-07-17', 'Active'),
(35, 35, 10, 6, '2024-04-18', '2024-07-18', 'Active'),
(36, 36, 10, 7, '2024-04-19', '2024-07-19', 'Active'),
(37, 37, 10, 7, '2024-04-20', '2024-07-20', 'Active'),
(38, 38, 10, 6, '2024-04-21', '2024-07-21', 'Active'),
(39, 39, 10, 10, '2024-04-22', '2024-07-22', 'Active'),
(40, 40, 10, 10, '2024-04-23', '2024-07-23', 'Active'),
(41, 41, 10, 7, '2024-04-24', '2024-07-24', 'Active'),
(42, 42, 10, 7, '2024-04-25', '2024-07-25', 'Active'),
(43, 43, 10, 7, '2024-04-26', '2024-07-26', 'Active'),
(44, 44, 10, 8, '2024-04-27', '2024-07-27', 'Active'),
(45, 45, 10, 8, '2024-04-28', '2024-07-28', 'Active'),
(46, 46, 10, 6, '2024-04-29', '2024-07-29', 'Active'),
(47, 47, 10, 7, '2024-04-30', '2024-07-30', 'Active'),
(48, 48, 10, 6, '2024-05-01', '2024-08-01', 'Active'),
(49, 49, 10, 10, '2024-05-02', '2024-08-02', 'Active'),
(50, 50, 10, 10, '2024-05-03', '2024-08-03', 'Active'),
(51, 51, 10, 8, '2024-05-04', '2024-08-04', 'Active'),
(52, 52, 10, 7, '2024-05-05', '2024-08-05', 'Active'),
(53, 53, 10, 6, '2024-05-06', '2024-08-06', 'Active'),
(54, 54, 10, 8, '2024-05-07', '2024-08-07', 'Active'),
(55, 55, 10, 8, '2024-05-08', '2024-08-08', 'Active'),
(56, 56, 10, 6, '2024-05-09', '2024-08-09', 'Active'),
(57, 57, 10, 7, '2024-05-10', '2024-08-10', 'Active'),
(58, 58, 10, 7, '2024-05-11', '2024-08-11', 'Active'),
(59, 59, 10, 10, '2024-05-12', '2024-08-12', 'Active'),
(60, 60, 10, 7, '2024-05-13', '2024-08-13', 'Active'),
(61, 61, 10, 8, '2024-05-14', '2024-08-14', 'Active'),
(62, 62, 10, 8, '2024-05-15', '2024-08-15', 'Active'),
(63, 63, 10, 7, '2024-05-16', '2024-08-16', 'Active'),
(64, 64, 10, 10, '2024-05-17', '2024-08-17', 'Active'),
(65, 65, 10, 10, '2024-05-18', '2024-08-18', 'Active'),
(66, 66, 10, 8, '2024-05-19', '2024-08-19', 'Active'),
(67, 67, 10, 6, '2024-05-20', '2024-08-20', 'Active'),
(68, 68, 10, 8, '2024-05-21', '2024-08-21', 'Active'),
(69, 69, 10, 7, '2024-05-22', '2024-08-22', 'Active'),
(70, 70, 10, 7, '2024-05-23', '2024-08-23', 'Active'),
(71, 71, 10, 10, '2024-05-24', '2024-08-24', 'Active'),
(72, 72, 10, 10, '2024-05-25', '2024-08-25', 'Active'),
(73, 73, 10, 6, '2024-05-26', '2024-08-26', 'Active'),
(74, 74, 10, 8, '2024-05-27', '2024-08-27', 'Active'),
(75, 75, 10, 6, '2024-05-28', '2024-08-28', 'Active'),
(76, 76, 10, 7, '2024-05-29', '2024-08-29', 'Active'),
(77, 77, 10, 7, '2024-05-30', '2024-08-30', 'Active'),
(78, 78, 10, 7, '2024-05-31', '2024-08-31', 'Active'),
(79, 79, 10, 8, '2024-06-01', '2024-09-01', 'Active'),
(80, 80, 10, 8, '2024-06-02', '2024-09-02', 'Active'),
(81, 81, 10, 8, '2024-06-03', '2024-09-03', 'Active'),
(82, 82, 10, 6, '2024-06-04', '2024-09-04', 'Active'),
(83, 83, 10, 7, '2024-06-05', '2024-09-05', 'Active'),
(84, 84, 10, 10, '2024-06-06', '2024-09-06', 'Active'),
(85, 85, 10, 7, '2024-06-07', '2024-09-07', 'Active'),
(86, 86, 10, 10, '2024-06-08', '2024-09-08', 'Active'),
(87, 87, 10, 10, '2024-06-09', '2024-09-09', 'Active'),
(88, 88, 10, 8, '2024-06-10', '2024-09-10', 'Active'),
(89, 89, 10, 8, '2024-06-11', '2024-09-11', 'Active'),
(90, 90, 10, 8, '2024-06-12', '2024-09-12', 'Active'),
(99, 99, 0, 20, '2024-03-17', '2024-06-17', 'Active'),
(100, 100, 0, 20, '2024-03-17', '2024-06-17', 'Active'),
(101, 101, 0, 0, '2024-12-06 01:13:18', '2024-12-06 01:13:18', 'Active'),
(102, 102, 0, 0, '2024-12-06 01:25:27', '2024-12-06 01:25:27', 'Active'),
(103, 103, 0, 0, '2024-12-07 00:27:49', '2024-12-07 00:27:49', 'Active'),
(104, 104, 0, 0, '2024-12-07 00:43:38', '2025-01-07 00:43:38', 'Active'),
(105, 105, 0, 10, '2024-12-07 00:51:33', '2025-01-07 00:51:33', 'Active');

-- --------------------------------------------------------

--
-- Структура таблицы `testClass`
--

CREATE TABLE `testClass` (
  `NumberOfClass` int NOT NULL,
  `IdChoreographer` int DEFAULT NULL,
  `DateOfClass` varchar(10) DEFAULT NULL,
  `TimeOfClass` varchar(8) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `testClass`
--

INSERT INTO `testClass` (`NumberOfClass`, `IdChoreographer`, `DateOfClass`, `TimeOfClass`) VALUES
(1, 1, '2024-10-01', '10:00:00'),
(2, 1, '2024-10-02', '11:00:00'),
(3, 2, '2024-10-03', '12:00:00'),
(4, 2, '2024-10-04', '13:00:00'),
(5, 3, '2024-10-05', '14:00:00'),
(6, 3, '2024-10-06', '15:00:00'),
(7, 1, '2024-10-07', '16:00:00'),
(8, 2, '2024-10-08', '17:00:00'),
(9, 3, '2024-10-09', '18:00:00'),
(10, 1, '2024-10-10', '19:00:00'),
(11, 2, '2024-10-11', '10:00:00'),
(12, 3, '2024-10-12', '11:00:00'),
(13, 1, '2024-10-13', '12:00:00'),
(14, 2, '2024-10-14', '13:00:00'),
(15, 3, '2024-10-15', '14:00:00'),
(16, 1, '2024-10-16', '15:00:00'),
(17, 2, '2024-10-17', '16:00:00'),
(18, 3, '2024-10-18', '17:00:00'),
(19, 1, '2024-10-19', '18:00:00'),
(20, 2, '2024-10-20', '19:00:00'),
(21, 3, '2024-10-21', '10:00:00'),
(22, 1, '2024-10-22', '11:00:00'),
(23, 2, '2024-10-23', '12:00:00'),
(24, 3, '2024-10-24', '13:00:00'),
(25, 1, '2024-10-25', '14:00:00'),
(26, 2, '2024-10-26', '15:00:00'),
(27, 3, '2024-10-27', '16:00:00'),
(28, 1, '2024-10-28', '17:00:00'),
(29, 2, '2024-10-29', '18:00:00'),
(30, 3, '2024-10-30', '19:00:00'),
(31, 1, '2024-10-31', '10:00:00'),
(32, 2, '2024-11-01', '11:00:00'),
(33, 3, '2024-11-02', '12:00:00'),
(34, 1, '2024-11-03', '13:00:00'),
(35, 2, '2024-11-04', '14:00:00'),
(36, 3, '2024-11-05', '15:00:00'),
(37, 1, '2024-11-06', '16:00:00'),
(38, 2, '2024-11-07', '17:00:00'),
(39, 3, '2024-11-08', '18:00:00'),
(40, 1, '2024-11-09', '19:00:00'),
(41, 2, '2024-11-10', '10:00:00'),
(42, 3, '2024-11-11', '11:00:00'),
(43, 1, '2024-11-12', '12:00:00'),
(44, 2, '2024-11-13', '13:00:00'),
(45, 3, '2024-11-14', '14:00:00'),
(46, 1, '2024-11-15', '15:00:00'),
(47, 2, '2024-11-16', '16:00:00'),
(48, 3, '2024-11-17', '17:00:00'),
(49, 1, '2024-11-18', '18:00:00'),
(50, 2, '2024-11-19', '19:00:00'),
(51, 1, '2024-11-19', '19:00:00');

-- --------------------------------------------------------

--
-- Структура для представления `cl_rec`
--
DROP TABLE IF EXISTS `cl_rec`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `cl_rec`  AS SELECT DISTINCT `client`.`FIO` AS `FIO`, `clientrecord`.`NumberOfClass` AS `NumberOfClass` FROM (`client` join `clientrecord` on((`client`.`ClientId` = `clientrecord`.`ClientId`)))  ;

-- --------------------------------------------------------

--
-- Структура для представления `group_fio`
--
DROP TABLE IF EXISTS `group_fio`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `group_fio`  AS SELECT `grouppa`.`DanceStyle` AS `DanceStyle`, `client`.`FIO` AS `FIO` FROM ((`grouppa` join `bandmember` on((`grouppa`.`NumberOfGroup` = `bandmember`.`NumberOfGroup`))) join `client` on((`bandmember`.`ClientId` = `client`.`ClientId`)))  ;

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `BandMember`
--
ALTER TABLE `BandMember`
  ADD KEY `ClientId` (`ClientId`);

--
-- Индексы таблицы `Choreographer`
--
ALTER TABLE `Choreographer`
  ADD PRIMARY KEY (`IdChoreographer`);

--
-- Индексы таблицы `Client`
--
ALTER TABLE `Client`
  ADD PRIMARY KEY (`ClientId`);

--
-- Индексы таблицы `ClientRecord`
--
ALTER TABLE `ClientRecord`
  ADD KEY `NumberOfClass` (`NumberOfClass`,`ClientId`),
  ADD KEY `ClientId` (`ClientId`);

--
-- Индексы таблицы `Grouppa`
--
ALTER TABLE `Grouppa`
  ADD PRIMARY KEY (`NumberOfGroup`),
  ADD KEY `IdChoreographer` (`IdChoreographer`);

--
-- Индексы таблицы `Item`
--
ALTER TABLE `Item`
  ADD PRIMARY KEY (`Product_ID`);

--
-- Индексы таблицы `sale`
--
ALTER TABLE `sale`
  ADD PRIMARY KEY (`NumberOfDeal`),
  ADD KEY `Id_product` (`Id_product`,`ClientId`),
  ADD KEY `ClientId` (`ClientId`);

--
-- Индексы таблицы `Schedule`
--
ALTER TABLE `Schedule`
  ADD PRIMARY KEY (`Id_Schedule`);

--
-- Индексы таблицы `Subscription`
--
ALTER TABLE `Subscription`
  ADD PRIMARY KEY (`Id_Sub`),
  ADD KEY `ClientId` (`ClientId`);

--
-- Индексы таблицы `testClass`
--
ALTER TABLE `testClass`
  ADD PRIMARY KEY (`NumberOfClass`),
  ADD KEY `IdChoreographer` (`IdChoreographer`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `sale`
--
ALTER TABLE `sale`
  MODIFY `NumberOfDeal` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=87;

--
-- AUTO_INCREMENT для таблицы `Schedule`
--
ALTER TABLE `Schedule`
  MODIFY `Id_Schedule` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=83;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `BandMember`
--
ALTER TABLE `BandMember`
  ADD CONSTRAINT `bandmember_ibfk_1` FOREIGN KEY (`ClientId`) REFERENCES `Client` (`ClientId`);

--
-- Ограничения внешнего ключа таблицы `ClientRecord`
--
ALTER TABLE `ClientRecord`
  ADD CONSTRAINT `clientrecord_ibfk_1` FOREIGN KEY (`ClientId`) REFERENCES `Client` (`ClientId`);

--
-- Ограничения внешнего ключа таблицы `Grouppa`
--
ALTER TABLE `Grouppa`
  ADD CONSTRAINT `grouppa_ibfk_1` FOREIGN KEY (`IdChoreographer`) REFERENCES `Choreographer` (`IdChoreographer`);

--
-- Ограничения внешнего ключа таблицы `sale`
--
ALTER TABLE `sale`
  ADD CONSTRAINT `sale_ibfk_1` FOREIGN KEY (`ClientId`) REFERENCES `Client` (`ClientId`),
  ADD CONSTRAINT `sale_ibfk_2` FOREIGN KEY (`Id_product`) REFERENCES `Item` (`Product_ID`);

--
-- Ограничения внешнего ключа таблицы `Subscription`
--
ALTER TABLE `Subscription`
  ADD CONSTRAINT `subscription_ibfk_1` FOREIGN KEY (`ClientId`) REFERENCES `Client` (`ClientId`);

--
-- Ограничения внешнего ключа таблицы `testClass`
--
ALTER TABLE `testClass`
  ADD CONSTRAINT `testclass_ibfk_1` FOREIGN KEY (`IdChoreographer`) REFERENCES `Choreographer` (`IdChoreographer`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
